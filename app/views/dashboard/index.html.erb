<div id="left column">

<div id="users-contain" class="ui-widget">
  <h1>My Lists:</h1>
  <% if current_user.lists.any? %>
  <ul class="lists">
    <%= render partial: 'lists/list', locals: { lists: current_user.lists } %>
  </ul>
  <% end %> 
</div>
<button id="create-list">Create new list</button>

</div>

<div id="middle column">
  <div id="dialog-form">
  <%= render partial: 'lists/new', locals: { lists: current_user.lists.build } %>
  </div>
</div>

<script>
  $(function() {
    var name = $( "#name" ),
      email = $( "#email" ),
      password = $( "#password" ),
      allFields = $( [] ).add( name ).add( email ).add( password ),
      tips = $( ".validateTips" );
 
    function updateTips( t ) {
      tips
        .text( t )
        .addClass( "ui-state-highlight" );
      setTimeout(function() {
        tips.removeClass( "ui-state-highlight", 1500 );
      }, 500 );
    }
 
    $( "#dialog-form" ).dialog({
      autoOpen: false,
      height: 300,
      width: 350,
      modal: true,
      buttons: {
        "Create list": function() {
          $('form#new_list').submit();
          $( this ).dialog( "close" );
        },
        Cancel: function() {
          $( this ).dialog( "close" );
        }
      },
      close: function() {
        allFields.val( "" );
      }
    });
 
    $( "#create-list" )
      .click(function() {
        $( "#dialog-form" ).dialog( "open" );
      });
  });
  </script>


